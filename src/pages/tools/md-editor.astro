---
import Default from "../../layouts/Default.astro";
---
<Default title="Markdown editor">
<h1>Markdown editor</h1>
<div class="grid-md">
<div>
<textarea id="editor"></textarea>
</div>
<div>
<iframe id="output"></iframe>
</div>
</div>
<script>
import {marked} from 'marked'
document.addEventListener("DOMContentLoaded", function(event) {
    const editorFrame = document.getElementById('editor') as HTMLTextAreaElement
    const outputFrame = document.getElementById('output') as HTMLIFrameElement
    editorFrame?.addEventListener('keyup', function() {
        outputFrame.srcdoc = marked.parse(editorFrame.value) as string
    })
})
</script>
</Default>